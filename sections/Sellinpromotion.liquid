<script src="{{ 'numbers.js' | asset_url }}" defer="defer"></script>

<style>
  [data-section-id="{{ section.id }}"] {
    background-color: {{ section.settings.bg_color }};
    padding-top: {{ section.settings.top_one |  append: 'rem' }};
    padding-bottom: {{ section.settings.bottom_one |  append: 'rem' }};
  }
  [data-section-id="{{ section.id }}"] .Sellinpromotion_box {
    border-radius: 1.2rem;
    overflow: hidden;
    background-color: {{ section.settings.Number_color_box }};
  }
  .Sellinpromotion_header {
    margin: 0 6rem;
  }
  [data-section-id="{{ section.id }}"] .Sellinpromotion_header h2 {
    text-align: {{ section.settings.text_align }};
    margin: 0 0 2rem;
  }
  [data-section-id="{{ section.id }}"] .Sellinpromotion_header h4 {
    text-align: {{ section.settings.text_align }};
    margin: 0 0 2rem;
  }
  [data-section-id="{{ section.id }}"] .Sellinpromotion_header_box {
    display: flex;
    justify-content: space-around;
    flex-direction: {{ section.settings.flex_direction }};
  }
  [data-section-id="{{ section.id }}"] .Sellinpromotion_header_box p {
    flex: 1;
    text-align: {{ section.settings.Copywriting_align }};
    margin: 0 0 2rem;
    padding: 0 2rem;
  }
  .Sellinpromotion_box_img_pc {
    display: block;
    width: 100%;
    height: auto;
  }
  .Sellinpromotion_box_video_pc {
    display: block;
    width: {{ section.settings.video_w |  append: '%' }};
    margin: 0 auto;
    height: auto;
  }
  .Sellinpromotion_box_video_mobile {
    display: none;
  }

  .Sellinpromotion_box_img_mobile {
    display: none;
  }
  [data-section-id="{{ section.id }}"] .Sellinpromotion_box_flex {
    display: flex;
    justify-content: space-between;

    padding: 3rem 1rem;
  }
  .Sellinpromotion_box_flex_link {
    flex: 1;
  }
  .Sellinpromotion_box_flex_link_header {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1rem;
  }
  .Sellinpromotion_box_flex_link_header_img {
    width: 3.5rem;
    height: 3.5rem;
    display: block;
    margin-right: 3rem;
  }
  .Sellinpromotion_box_flex_link_header h4 {
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  [data-section-id="{{ section.id }}"] .Numerical_animation {
    font-size: 3rem;
    margin: 0 1rem 0 0;
    font-weight: 700;
    color: {{ section.settings.Number_color }};
  }
  .Sellinpromotion_box_flex_text {
    margin: 0;
    text-align: center;
  }
  .Overall {
      margin: 3rem auto 0;
      text-align: center;
    }
  .Overall_btn {
      display: inline-block;
      background: #1566E0;
      color: #fff;
      padding: 1rem 3.5rem;
      border-radius: 2.4rem;
      font-size: 1.6rem;
      display: inline-block;
      text-decoration: none;
    }
    .Overall_btn:hover {
      background: #fff;
      color: #1566E0;
    }
  @media(max-width: 768px) {
    [data-section-id="{{ section.id }}"] {
      padding-top: {{ section.settings.top_one_mic |  append: 'rem' }};
      padding-bottom: {{ section.settings.bottom_one_mic |  append: 'rem' }};
    }
    .Sellinpromotion_box_img_mobile {
      display: block;
      width: 100%;
      height: auto;
    }
    .Sellinpromotion_box_video_pc {
      display: none;
    }
    .Sellinpromotion_box_video_mobile {
      display: block;
      width: {{ section.settings.video_w_mic |  append: '%' }};
      height: auto;
    }
    .Sellinpromotion_box_img_pc {
      display: none;
    }
    .Sellinpromotion_header {
      margin: 0;
    }
    .Sellinpromotion_box_flex_link {
      margin-bottom: 2rem;
    }
    .Sellinpromotion_box_flex_link_header {
      justify-content: flex-start;
      margin-bottom: 0.5rem;
    }
    .Sellinpromotion_box_flex_text {
      text-align: left;
    }
    [data-section-id="{{ section.id }}"] .Sellinpromotion_box_flex {
      padding: 2rem 1rem 2rem 5rem;
      flex-flow: column;
    }
    [data-section-id="{{ section.id }}"] .Sellinpromotion_header h2 {
      margin: 0 0 1rem;
    }
    [data-section-id="{{ section.id }}"] .Sellinpromotion_header h4 {
      margin: 0 0 1rem;
    }
    [data-section-id="{{ section.id }}"] .Sellinpromotion_header_box p {
      margin: 0 0 1rem;
    }
    [data-section-id="{{ section.id }}"] .Sellinpromotion_header_box {
      flex-direction: column;
    }
  }
</style>

<div data-section-id="{{ section.id }}" class="Sellinpromotion">
  <div class="container">
    <div class="Sellinpromotion_header">
      {% if section.settings.title != blank %}
        <h2 class="h2">{{ section.settings.title | newline_to_br }}</h2>
      {% endif %}
      {% if section.settings.subtitle != blank %}
        <h4 class="h4">{{ section.settings.subtitle | newline_to_br }}</h4>
      {% endif %}
      <div class="Sellinpromotion_header_box">
        {% if section.settings.Copywriting != blank %}
          <p>{{ section.settings.Copywriting | newline_to_br }}</p>
        {% endif %}
        {% if section.settings.Copywriting_fu != blank %}
          <p>{{ section.settings.Copywriting_fu | newline_to_br }}</p>
        {% endif %}
      </div>
    </div>
    <div class="Sellinpromotion_box">
      {% if section.settings.image != blank %}
        {{
          section.settings.image
          | image_url: width: section.settings.image.width
          | image_tag:
            loading: 'lazy',
            widths: '2200, 2400, 2600, 2800, 3000, 3264, 3400, 3584, 3800, 4000, 4200, 4400, 4600, 4800, 5000, 5200, 5400, 5600',
            sizes: sizes,
            class: 'Sellinpromotion_box_img_pc'
        }}
      {% endif %}
      {% if section.settings.imagemobile != blank %}
        {{
          section.settings.imagemobile
          | image_url: width: section.settings.imagemobile.width
          | image_tag:
            loading: 'lazy',
            widths: '2200, 2400, 2600, 2800, 3000, 3264, 3400, 3584, 3800, 4000, 4200, 4400, 4600, 4800, 5000, 5200, 5400, 5600',
            sizes: sizes,
            class: 'Sellinpromotion_box_img_mobile'
        }}
      {% endif %}
      {%- if section.settings.video != blank -%}
        {{
          section.settings.video
          | video_tag:
            image_size: '1100x',
            autoplay: true,
            loop: true,
            controls: false,
            muted: true,
            class: 'Sellinpromotion_box_video_pc'
        }}
        {{
          section.settings.videomic
          | video_tag:
            image_size: '1100x',
            autoplay: true,
            loop: true,
            controls: false,
            muted: true,
            class: 'Sellinpromotion_box_video_mobile'
        }}
      {% endif %}
      {% if section.blocks.size > 0 %}
        <div class="Sellinpromotion_box_flex">
          {% for block in section.blocks %}
            <div class="Sellinpromotion_box_flex_link">
              <div class="Sellinpromotion_box_flex_link_header">
                {% if block.settings.image != blank %}
                  {{
                    block.settings.image
                    | image_url: width: block.settings.image.width
                    | image_tag:
                      loading: 'lazy',
                      widths: '2200, 2400, 2600, 2800, 3000, 3264, 3400, 3584, 3800, 4000, 4200, 4400, 4600, 4800, 5000, 5200, 5400, 5600',
                      sizes: sizes,
                      class: 'Sellinpromotion_box_flex_link_header_img'
                  }}
                {% endif %}
                {% if block.settings.title != blank %}
                  <h4 class="h4">
                    {% if block.settings.Numerical != blank %}
                      <p class="Numerical_animation">{{ block.settings.Numerical }}</p>
                    {% endif %}
                    {{ block.settings.title | newline_to_br }}
                  </h4>
                {% endif %}
              </div>
              {% if block.settings.text != blank %}
                <p class="Sellinpromotion_box_flex_text">{{ block.settings.text | newline_to_br }}</p>
              {% endif %}
            </div>
          {% endfor %}
        </div>
      {% else %}

      {% endif %}
    </div>
    <div class="container Overall">
      {% if section.settings.link != blank %}
        <a class="Overall_btn" href="{{ section.settings.link }}">{{ section.settings.linktext }}</a>
      {% endif %}
    </div>
  </div>
</div>

<script>
  document.addEventListener('click', function(e) {
  const video = document.querySelector('.Sellinpromotion_box_video_mobile');
  if (video) {
    video.play(); // 强制播放视频
  }
  });
  document.addEventListener('click', function(e) {
  const video = document.querySelector('.Sellinpromotion_box_video_pc');
  if (video) {
    video.play(); // 强制播放视频
  }
  });
</script>
{% schema %}
{
  "name": "产品卖点宣传",
  "settings": [
    {
      "type": "range",
      "id": "top_one",
      "label": "上边距",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "rem",
      "default": 5
    },
    {
      "type": "range",
      "id": "bottom_one",
      "label": "下边距",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "rem",
      "default": 5
    },
    {
      "type": "range",
      "id": "top_one_mic",
      "label": "移动端上边距",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "rem",
      "default": 2
    },
    {
      "type": "range",
      "id": "bottom_one_mic",
      "label": "移动端下边距",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "rem",
      "default": 2
    }, {
      "type": "color",
      "id": "bg_color",
      "label": "背景颜色",
      "default": "#fff"
    }, {
      "type": "select",
      "id": "text_align",
      "label": "文本对齐方式",
      "options": [
        {
          "value": "left",
          "label": "靠左"
        }, {
          "value": "center",
          "label": "居中"
        }, {
          "value": "right",
          "label": "靠右"
        }
      ],
      "default": "center"
    }, {
      "type": "textarea",
      "id": "title",
      "label": "标题"
    }, {
      "type": "textarea",
      "id": "subtitle",
      "label": "副标题"
    }, {
      "type": "select",
      "id": "flex_direction",
      "label": "文案布局方式",
      "options": [
        {
          "value": "column",
          "label": "上下排序"
        }, {
          "value": "row",
          "label": "左右排序"
        }
      ],
      "default": "row"
    }, {
      "type": "select",
      "id": "Copywriting_align",
      "label": "文案对齐方式",
      "options": [
        {
          "value": "left",
          "label": "靠左"
        }, {
          "value": "center",
          "label": "居中"
        }, {
          "value": "right",
          "label": "靠右"
        }
      ],
      "default": "center"
    }, {
      "type": "textarea",
      "id": "Copywriting",
      "label": "主文案"
    }, {
      "type": "textarea",
      "id": "Copywriting_fu",
      "label": "副文案"
    }, {
      "type": "image_picker",
      "id": "image",
      "label": "图片"
    }, {
      "type": "image_picker",
      "id": "imagemobile",
      "label": "图片"
    }, {
      "type": "video",
      "id": "video",
      "label": "选择视频"
    }, {
      "type": "video",
      "id": "videomic",
      "label": "选择移动端视频"
    }, {
      "type": "range",
      "id": "video_w",
      "label": "c",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "%",
      "default": 100
    }, {
      "type": "range",
      "id": "video_w_mic",
      "label": "移动端选择视频宽度",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "%",
      "default": 100
    }, {
      "type": "color",
      "id": "Number_color_box",
      "label": "介绍区盒子背景颜色",
      "default": "#dedede"
    }, {
      "type": "color",
      "id": "Number_color",
      "label": "数值字体颜色",
      "default": "#1566e0"
    }, {
      "type": "text",
      "id": "linktext",
      "label": "链接文本"
    }, {
      "type": "url",
      "id": "link",
      "label": "链接"
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "添加数值",
      "limit": 3,
      "settings": [
        {
          "type": "textarea",
          "id": "title",
          "label": "标题"
        }, {
          "type": "textarea",
          "id": "Numerical",
          "label": "数值"
        }, {
          "type": "textarea",
          "id": "text",
          "label": "文本"
        }, {
          "type": "image_picker",
          "id": "image",
          "label": "图标"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "产品卖点宣传",
      "blocks": [
        {
          "type": "slide"
        }, {
          "type": "slide"
        }, {
          "type": "slide"
        }
      ]
    }
  ]
}
{% endschema %}
